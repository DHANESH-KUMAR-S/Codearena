{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KALAIVANI\\\\Codearena\\\\client\\\\src\\\\components\\\\EditorWrapper.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useCallback } from 'react';\nimport Editor from \"@monaco-editor/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditorWrapper = ({\n  value,\n  onChange,\n  language,\n  ...props\n}) => {\n  _s();\n  const wrapperRef = useRef(null);\n  const editorRef = useRef(null);\n  const resizeTimeoutRef = useRef(null);\n  const handleResize = useCallback(() => {\n    if (editorRef.current && wrapperRef.current) {\n      // Clear any existing timeout\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n\n      // Debounce the layout call\n      resizeTimeoutRef.current = setTimeout(() => {\n        try {\n          // Force a layout update\n          editorRef.current.layout();\n        } catch (error) {\n          // Silently handle any layout errors\n          console.warn('Editor layout error:', error);\n        }\n      }, 150); // Increased debounce time\n    }\n  }, []);\n  useEffect(() => {\n    // Use window resize event instead of ResizeObserver\n    const handleWindowResize = () => {\n      handleResize();\n    };\n\n    // Add window resize listener\n    window.addEventListener('resize', handleWindowResize);\n\n    // Also handle orientation change for mobile\n    window.addEventListener('orientationchange', handleWindowResize);\n    return () => {\n      // Cleanup timeout\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n\n      // Remove event listeners\n      window.removeEventListener('resize', handleWindowResize);\n      window.removeEventListener('orientationchange', handleWindowResize);\n    };\n  }, [handleResize]);\n  const handleEditorMount = useCallback(editor => {\n    editorRef.current = editor;\n\n    // Initial layout after mount with delay\n    setTimeout(() => {\n      try {\n        if (editor && !editor.isDisposed()) {\n          editor.layout();\n        }\n      } catch (error) {\n        console.warn('Initial editor layout error:', error);\n      }\n    }, 200);\n  }, []);\n  const handleEditorWillMount = useCallback(monaco => {\n    // Configure Monaco to be more stable\n    monaco.editor.defineTheme('custom-dark', {\n      base: 'vs-dark',\n      inherit: true,\n      rules: [],\n      colors: {}\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapperRef,\n    style: {\n      width: '100%',\n      height: '400px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      value: value,\n      onChange: onChange,\n      language: language === 'cpp' ? 'cpp' : language,\n      onMount: handleEditorMount,\n      beforeMount: handleEditorWillMount,\n      theme: \"custom-dark\",\n      options: {\n        ...props.options,\n        automaticLayout: false,\n        // Disable automatic layout\n        scrollBeyondLastLine: false,\n        minimap: {\n          enabled: false\n        },\n        fontSize: 14,\n        lineNumbers: 'on',\n        tabSize: 4,\n        wordWrap: 'on',\n        overviewRulerBorder: false,\n        scrollbar: {\n          vertical: 'auto',\n          horizontal: 'auto',\n          verticalScrollbarSize: 10,\n          horizontalScrollbarSize: 10\n        }\n      },\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(EditorWrapper, \"wXsPn7Hb5ANwA/k2ekAiQ80zv+c=\");\n_c = EditorWrapper;\nexport default EditorWrapper;\nvar _c;\n$RefreshReg$(_c, \"EditorWrapper\");","map":{"version":3,"names":["React","useEffect","useRef","useCallback","Editor","jsxDEV","_jsxDEV","EditorWrapper","value","onChange","language","props","_s","wrapperRef","editorRef","resizeTimeoutRef","handleResize","current","clearTimeout","setTimeout","layout","error","console","warn","handleWindowResize","window","addEventListener","removeEventListener","handleEditorMount","editor","isDisposed","handleEditorWillMount","monaco","defineTheme","base","inherit","rules","colors","ref","style","width","height","children","onMount","beforeMount","theme","options","automaticLayout","scrollBeyondLastLine","minimap","enabled","fontSize","lineNumbers","tabSize","wordWrap","overviewRulerBorder","scrollbar","vertical","horizontal","verticalScrollbarSize","horizontalScrollbarSize","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/KALAIVANI/Codearena/client/src/components/EditorWrapper.js"],"sourcesContent":["import React, { useEffect, useRef, useCallback } from 'react';\r\nimport Editor from \"@monaco-editor/react\";\r\n\r\nconst EditorWrapper = ({ value, onChange, language, ...props }) => {\r\n  const wrapperRef = useRef(null);\r\n  const editorRef = useRef(null);\r\n  const resizeTimeoutRef = useRef(null);\r\n\r\n  const handleResize = useCallback(() => {\r\n    if (editorRef.current && wrapperRef.current) {\r\n      // Clear any existing timeout\r\n      if (resizeTimeoutRef.current) {\r\n        clearTimeout(resizeTimeoutRef.current);\r\n      }\r\n      \r\n      // Debounce the layout call\r\n      resizeTimeoutRef.current = setTimeout(() => {\r\n        try {\r\n          // Force a layout update\r\n          editorRef.current.layout();\r\n        } catch (error) {\r\n          // Silently handle any layout errors\r\n          console.warn('Editor layout error:', error);\r\n        }\r\n      }, 150); // Increased debounce time\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Use window resize event instead of ResizeObserver\r\n    const handleWindowResize = () => {\r\n      handleResize();\r\n    };\r\n\r\n    // Add window resize listener\r\n    window.addEventListener('resize', handleWindowResize);\r\n    \r\n    // Also handle orientation change for mobile\r\n    window.addEventListener('orientationchange', handleWindowResize);\r\n\r\n    return () => {\r\n      // Cleanup timeout\r\n      if (resizeTimeoutRef.current) {\r\n        clearTimeout(resizeTimeoutRef.current);\r\n      }\r\n      \r\n      // Remove event listeners\r\n      window.removeEventListener('resize', handleWindowResize);\r\n      window.removeEventListener('orientationchange', handleWindowResize);\r\n    };\r\n  }, [handleResize]);\r\n\r\n  const handleEditorMount = useCallback((editor) => {\r\n    editorRef.current = editor;\r\n    \r\n    // Initial layout after mount with delay\r\n    setTimeout(() => {\r\n      try {\r\n        if (editor && !editor.isDisposed()) {\r\n          editor.layout();\r\n        }\r\n      } catch (error) {\r\n        console.warn('Initial editor layout error:', error);\r\n      }\r\n    }, 200);\r\n  }, []);\r\n\r\n  const handleEditorWillMount = useCallback((monaco) => {\r\n    // Configure Monaco to be more stable\r\n    monaco.editor.defineTheme('custom-dark', {\r\n      base: 'vs-dark',\r\n      inherit: true,\r\n      rules: [],\r\n      colors: {}\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={wrapperRef} style={{ width: '100%', height: '400px' }}>\r\n      <Editor\r\n        value={value}\r\n        onChange={onChange}\r\n        language={language === 'cpp' ? 'cpp' : language}\r\n        onMount={handleEditorMount}\r\n        beforeMount={handleEditorWillMount}\r\n        theme=\"custom-dark\"\r\n        options={{\r\n          ...props.options,\r\n          automaticLayout: false, // Disable automatic layout\r\n          scrollBeyondLastLine: false,\r\n          minimap: { enabled: false },\r\n          fontSize: 14,\r\n          lineNumbers: 'on',\r\n          tabSize: 4,\r\n          wordWrap: 'on',\r\n          overviewRulerBorder: false,\r\n          scrollbar: {\r\n            vertical: 'auto',\r\n            horizontal: 'auto',\r\n            verticalScrollbarSize: 10,\r\n            horizontalScrollbarSize: 10\r\n          }\r\n        }}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditorWrapper; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}