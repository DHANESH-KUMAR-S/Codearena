{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KALAIVANI\\\\Codearena\\\\client\\\\src\\\\components\\\\EditorWrapper.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useCallback } from 'react';\nimport Editor from \"@monaco-editor/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditorWrapper = ({\n  value,\n  onChange,\n  language,\n  ...props\n}) => {\n  _s();\n  const wrapperRef = useRef(null);\n  const editorRef = useRef(null);\n  const resizeTimeoutRef = useRef(null);\n  const handleResize = useCallback(() => {\n    if (editorRef.current) {\n      // Clear any existing timeout\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n\n      // Debounce the layout call\n      resizeTimeoutRef.current = setTimeout(() => {\n        try {\n          editorRef.current.layout();\n        } catch (error) {\n          // Silently handle any layout errors\n          console.warn('Editor layout error:', error);\n        }\n      }, 100); // Increased debounce time\n    }\n  }, []);\n  useEffect(() => {\n    let resizeObserver = null;\n    try {\n      resizeObserver = new ResizeObserver(entries => {\n        // Prevent multiple rapid calls\n        if (entries.length > 0) {\n          handleResize();\n        }\n      });\n      if (wrapperRef.current) {\n        resizeObserver.observe(wrapperRef.current);\n      }\n    } catch (error) {\n      console.warn('ResizeObserver not supported:', error);\n    }\n    return () => {\n      // Cleanup timeout\n      if (resizeTimeoutRef.current) {\n        clearTimeout(resizeTimeoutRef.current);\n      }\n\n      // Cleanup observer\n      if (resizeObserver) {\n        try {\n          resizeObserver.disconnect();\n        } catch (error) {\n          console.warn('Error disconnecting ResizeObserver:', error);\n        }\n      }\n    };\n  }, [handleResize]);\n  const handleEditorMount = useCallback(editor => {\n    editorRef.current = editor;\n\n    // Initial layout after mount\n    setTimeout(() => {\n      try {\n        editor.layout();\n      } catch (error) {\n        console.warn('Initial editor layout error:', error);\n      }\n    }, 100);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: wrapperRef,\n    style: {\n      width: '100%',\n      height: '400px'\n    },\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      value: value,\n      onChange: onChange,\n      language: language === 'cpp' ? 'cpp' : language,\n      onMount: handleEditorMount,\n      options: {\n        ...props.options,\n        automaticLayout: false // Disable automatic layout to prevent conflicts\n      },\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(EditorWrapper, \"5pKDAxbKN8H+RBiyNldzA1jw64o=\");\n_c = EditorWrapper;\nexport default EditorWrapper;\nvar _c;\n$RefreshReg$(_c, \"EditorWrapper\");","map":{"version":3,"names":["React","useEffect","useRef","useCallback","Editor","jsxDEV","_jsxDEV","EditorWrapper","value","onChange","language","props","_s","wrapperRef","editorRef","resizeTimeoutRef","handleResize","current","clearTimeout","setTimeout","layout","error","console","warn","resizeObserver","ResizeObserver","entries","length","observe","disconnect","handleEditorMount","editor","ref","style","width","height","children","onMount","options","automaticLayout","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/KALAIVANI/Codearena/client/src/components/EditorWrapper.js"],"sourcesContent":["import React, { useEffect, useRef, useCallback } from 'react';\r\nimport Editor from \"@monaco-editor/react\";\r\n\r\nconst EditorWrapper = ({ value, onChange, language, ...props }) => {\r\n  const wrapperRef = useRef(null);\r\n  const editorRef = useRef(null);\r\n  const resizeTimeoutRef = useRef(null);\r\n\r\n  const handleResize = useCallback(() => {\r\n    if (editorRef.current) {\r\n      // Clear any existing timeout\r\n      if (resizeTimeoutRef.current) {\r\n        clearTimeout(resizeTimeoutRef.current);\r\n      }\r\n      \r\n      // Debounce the layout call\r\n      resizeTimeoutRef.current = setTimeout(() => {\r\n        try {\r\n          editorRef.current.layout();\r\n        } catch (error) {\r\n          // Silently handle any layout errors\r\n          console.warn('Editor layout error:', error);\r\n        }\r\n      }, 100); // Increased debounce time\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let resizeObserver = null;\r\n    \r\n    try {\r\n      resizeObserver = new ResizeObserver((entries) => {\r\n        // Prevent multiple rapid calls\r\n        if (entries.length > 0) {\r\n          handleResize();\r\n        }\r\n      });\r\n\r\n      if (wrapperRef.current) {\r\n        resizeObserver.observe(wrapperRef.current);\r\n      }\r\n    } catch (error) {\r\n      console.warn('ResizeObserver not supported:', error);\r\n    }\r\n\r\n    return () => {\r\n      // Cleanup timeout\r\n      if (resizeTimeoutRef.current) {\r\n        clearTimeout(resizeTimeoutRef.current);\r\n      }\r\n      \r\n      // Cleanup observer\r\n      if (resizeObserver) {\r\n        try {\r\n          resizeObserver.disconnect();\r\n        } catch (error) {\r\n          console.warn('Error disconnecting ResizeObserver:', error);\r\n        }\r\n      }\r\n    };\r\n  }, [handleResize]);\r\n\r\n  const handleEditorMount = useCallback((editor) => {\r\n    editorRef.current = editor;\r\n    \r\n    // Initial layout after mount\r\n    setTimeout(() => {\r\n      try {\r\n        editor.layout();\r\n      } catch (error) {\r\n        console.warn('Initial editor layout error:', error);\r\n      }\r\n    }, 100);\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={wrapperRef} style={{ width: '100%', height: '400px' }}>\r\n      <Editor\r\n        value={value}\r\n        onChange={onChange}\r\n        language={language === 'cpp' ? 'cpp' : language}\r\n        onMount={handleEditorMount}\r\n        options={{\r\n          ...props.options,\r\n          automaticLayout: false, // Disable automatic layout to prevent conflicts\r\n        }}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditorWrapper; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}